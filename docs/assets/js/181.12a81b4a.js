(window.webpackJsonp=window.webpackJsonp||[]).push([[181],{439:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("PythonでMIDIデータを扱います．")]),t._v(" "),a("ClientOnly",[a("CallInArticleAdsense")],1),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#midiファイルとは"}},[t._v("MIDIファイルとは")])]),a("li",[a("a",{attrs:{href:"#ライブラリのインストール"}},[t._v("ライブラリのインストール")])]),a("li",[a("a",{attrs:{href:"#midiデータの作成"}},[t._v("MIDIデータの作成")]),a("ul",[a("li",[a("a",{attrs:{href:"#単音のmidiデータ"}},[t._v("単音のMIDIデータ")])]),a("li",[a("a",{attrs:{href:"#テンポを指定したmidiファイル"}},[t._v("テンポを指定したMIDIファイル")])]),a("li",[a("a",{attrs:{href:"#複数音を鳴らすmidiデータ"}},[t._v("複数音を鳴らすMIDIデータ")])])])]),a("li",[a("a",{attrs:{href:"#midiデータの読み込み"}},[t._v("MIDIデータの読み込み")])]),a("li",[a("a",{attrs:{href:"#まとめ"}},[t._v("まとめ")])]),a("li",[a("a",{attrs:{href:"#参考サイト"}},[t._v("参考サイト")])])])]),a("p"),t._v(" "),a("h2",{attrs:{id:"midiファイルとは"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#midiファイルとは"}},[t._v("#")]),t._v(" MIDIファイルとは")]),t._v(" "),a("blockquote",[a("p",[t._v("MIDIとは「Musical Instrument Digital Interface」の略です。音楽データを格納したファイル形式の一つですが、mp3やwavと大きく異なるのは、音そのものではなく、音符、音色などの「情報」を格納しているだけという点です。 今回扱ったMIDIデータというのは、音楽の演奏情報をデータ化し、電子楽器やパソコンで再生できるようにしたものです。また、電子楽器に内蔵されている曲（ソング）データもMIDIデータです。 MIDIデータは、楽器の演奏や練習、カラオケやBGMなどに、便利に利用できます。 さらにDAWソフトに接続することで、録音を行い作曲をすることもできます。 MIDIデータは演奏練習を目的に使用されることが多いです。また、.wavという形式とは異なり、メッセージ内容を直接確認することができるので、時系列データとして扱う研究や解析に適しています。 MIDIは鍵盤楽器だけでなく、電子ドラムでも用いることが可能です。テンポを一定に保つ練習支援などにも役立てられたりしています。"),a("br"),t._v(" "),a("br"),t._v("\n音楽の解析を行うプログラムや研究は多く存在しますが、今回はMIDIデータに着目してみました。 MIDIデータはフリーで公開されているものや自身で作成したものなどを用いるのがベストです。MIDIデータは著作物になるので、怪しいサイトからダウンロードすることは控えましょう。")])]),t._v(" "),a("p",[t._v("出典："),a("a",{attrs:{href:"https://axross-recipe.com/recipes/429",target:"_blank",rel:"noopener noreferrer"}},[t._v("Pythonで音楽を演奏するレシピ"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"ライブラリのインストール"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ライブラリのインストール"}},[t._v("#")]),t._v(" ライブラリのインストール")]),t._v(" "),a("p",[t._v("下記のコードでライブラリをインストールします．")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("!sudo apt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("get update\n!sudo apt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("get install "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("y fluidsynth\n!pip install midi2audio\n!pip install mido\n")])])]),a("p",[t._v("また、midiファイルの変換に下記のファイルをダウンロードします。また、「FluidR3_GM.sf2」から「font.sf2」に変換します。")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://ja.osdn.net/projects/sfnet_androidframe/downloads/soundfonts/FluidR3_GM.sf2/",target:"_blank",rel:"noopener noreferrer"}},[t._v("FluidR3_GM.sf2"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"midiデータの作成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#midiデータの作成"}},[t._v("#")]),t._v(" MIDIデータの作成")]),t._v(" "),a("h3",{attrs:{id:"単音のmidiデータ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#単音のmidiデータ"}},[t._v("#")]),t._v(" 単音のMIDIデータ")]),t._v(" "),a("p",[t._v("まずは単音のMIDIデータを作成してみます。")]),t._v(" "),a("p",[t._v("Message,MidiFile,MidiTrack …オブジェクトの設定を行う。")]),t._v(" "),a("p",[t._v("MIDIFileの読み取り、書き込み、及び再生に使用できるオブジェクトです。")]),t._v(" "),a("p",[t._v("新しいファイルの作成をする際は、MessageとMidiTrackも必要になります。")]),t._v(" "),a("p",[t._v("​\n"),a("strong",[t._v("mido.Messageの動作")])]),t._v(" "),a("ul",[a("li",[t._v("note_on：鍵盤を押す,押し続ける")]),t._v(" "),a("li",[t._v("note_off：鍵盤を離す\n​\n"),a("strong",[t._v("mido.Messageの引数＿")])]),t._v(" "),a("li",[t._v("note:音階_note=60(C3, ド)")]),t._v(" "),a("li",[t._v("velocity:音の強さ(音量)")]),t._v(" "),a("li",[t._v("time:時間(ミリ秒)")])]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" mido\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" mido "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("MidiFile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("MidiTrack\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# MIDIファイルの出力")]),t._v("\nmid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("MidiFile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntrack"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("MidiTrack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nmid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tracks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("track"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# MIDIの音色を指定")]),t._v("\ntrack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'program_change'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" program"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# C3(note=60, ド)の音を、指定の音量と時間で再生")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ノート(音階)を60(ドの音)に指定、ベロシティ(音の強さ)を64，時間は60s，デルタタイムは32ミリ秒")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 鍵盤を押しているのがノート・オン(note_on)")]),t._v("\ntrack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'note_on'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" note"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" velocity"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 盤を離す動作に該当するのがノート・オフ(note_off)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ノート番号60(ドの音)を127の強さで行う。デルタタイムは32ミリ秒")]),t._v("\ntrack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'note_off'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" note"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" velocity"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("127")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 完ぺきに鍵盤を離す場合は")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ノート・オンのベロシティが0になるか、ノート・オフのベロシティが127になるかのどちらかということになります")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 出力")]),t._v("\nout_file "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./midi/new_song.mid'")]),t._v("\nmid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("save"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("out_file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 音楽ファイルの変換")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# サウンドフォントを指定する")]),t._v("\nfs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" FluidSynth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sound_font"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'font.sf2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 入力するmidiファイルとアウトプットファイル")]),t._v("\nfs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("midi_to_audio"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("out_file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" out_file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("replace"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.mid'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.mp3'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("audio",{attrs:{src:"/audio/new_song.mp3",controls:""}})]),t._v(" "),a("h3",{attrs:{id:"テンポを指定したmidiファイル"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#テンポを指定したmidiファイル"}},[t._v("#")]),t._v(" テンポを指定したMIDIファイル")]),t._v(" "),a("p",[t._v("テンポを指定したMIDIファイルを生成します。")]),t._v(" "),a("p",[a("strong",[t._v("mido.MetaMessageの動作")])]),t._v(" "),a("ul",[a("li",[t._v("set_tempo")])]),t._v(" "),a("p",[a("strong",[t._v("mido.MetaMessageの引数")])]),t._v(" "),a("ul",[a("li",[t._v("tempo：拍をどれくらいの速さで打つか\n"),a("ul",[a("li",[t._v("mido.bpm2tempo()：bpm2tempoでBPMをテンポ時間(1拍あたりの時間：マイクロ秒)")])])])]),t._v(" "),a("p",[a("strong",[t._v("mido.Messageの動作")])]),t._v(" "),a("ul",[a("li",[t._v("note_on：鍵盤を押す,押し続ける")]),t._v(" "),a("li",[t._v("note_off：鍵盤を離す")])]),t._v(" "),a("p",[a("strong",[t._v("mido.Messageの引数")])]),t._v(" "),a("ul",[a("li",[t._v("note:音階_note=60(C3, ド)")]),t._v(" "),a("li",[t._v("velocity:音の強さ(音量)")]),t._v(" "),a("li",[t._v("time:時間(ミリ秒)")])]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" mido\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" mido "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" MidiFile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" MidiTrack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" MetaMessage\n\nmid "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" MidiFile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntrack "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" MidiTrack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nmid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tracks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("track"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# テンポを指定")]),t._v("\ntrack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("MetaMessage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'set_tempo'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" tempo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("mido"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bpm2tempo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("120")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\ntrack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'note_on'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" note"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" velocity"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntrack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'note_off'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" note"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("480")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntrack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'note_on'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" note"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" velocity"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntrack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'note_off'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" note"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("480")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntrack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'note_on'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" note"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" velocity"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntrack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'note_off'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" note"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("480")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 出力")]),t._v("\nout_file "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./midi/newtempo_song.mid'")]),t._v("\nmid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("save"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("out_file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 音楽ファイルの変換")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# サウンドフォントを指定する")]),t._v("\nfs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" FluidSynth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sound_font"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'font.sf2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 入力するmidiファイルとアウトプットファイル")]),t._v("\nfs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("midi_to_audio"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("out_file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" out_file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("replace"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.mid'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.mp3'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("audio",{attrs:{src:"/audio/newtempo_song.mp3",controls:""}})]),t._v(" "),a("h3",{attrs:{id:"複数音を鳴らすmidiデータ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#複数音を鳴らすmidiデータ"}},[t._v("#")]),t._v(" 複数音を鳴らすMIDIデータ")]),t._v(" "),a("p",[a("strong",[t._v("mido.MetaMessageの動作")])]),t._v(" "),a("ul",[a("li",[t._v("set_tempo")])]),t._v(" "),a("p",[a("strong",[t._v("mido.MetaMessageの引数")])]),t._v(" "),a("ul",[a("li",[t._v("tempo：拍をどれくらいの速さで打つか\n"),a("ul",[a("li",[t._v("mido.bpm2tempo()：bpm2tempoでBPMをテンポ時間(1拍あたりの時間：マイクロ秒)")])])])]),t._v(" "),a("p",[a("strong",[t._v("mido.Messageの動作")])]),t._v(" "),a("ul",[a("li",[t._v("note_on：鍵盤を押す,押し続ける")]),t._v(" "),a("li",[t._v("note_off：鍵盤を離す")])]),t._v(" "),a("p",[a("strong",[t._v("mido.Messageの引数")])]),t._v(" "),a("ul",[a("li",[t._v("note:音階_note=60(C3, ド)")]),t._v(" "),a("li",[t._v("velocity:音の強さ(音量)")]),t._v(" "),a("li",[t._v("time:時間(ミリ秒)")])]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" mido\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" mido "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" MidiFile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" MidiTrack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" MetaMessage\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" midi2audio "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" FluidSynth\n\nmid "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" MidiFile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntrack1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" MidiTrack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntrack2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" MidiTrack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# トラックの生成")]),t._v("\nmid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tracks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("track1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nmid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tracks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("track2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# テンポを指定")]),t._v("\ntrack1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("MetaMessage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'set_tempo'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" tempo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("mido"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bpm2tempo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("120")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntrack2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("MetaMessage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'set_tempo'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" tempo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("mido"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bpm2tempo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("120")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 音を順番に鳴らすため、デルタタイムの数字をずらしてある")]),t._v("\ntrack1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'note_on'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" note"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" velocity"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntrack1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'note_on'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" note"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" velocity"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntrack1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'note_off'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" note"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("480")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntrack1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'note_off'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" note"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\ntrack2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'note_on'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" note"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" velocity"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntrack2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'note_off'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" note"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("480")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 出力")]),t._v("\nout_file "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./midi/new_anysong.mid'")]),t._v("\nmid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("save"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("out_file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 音楽ファイルの変換")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# サウンドフォントを指定する")]),t._v("\nfs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" FluidSynth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sound_font"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'font.sf2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 入力するmidiファイルとアウトプットファイル")]),t._v("\nfs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("midi_to_audio"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("out_file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" out_file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("replace"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.mid'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.mp3'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("audio",{attrs:{src:"/audio/new_anysong.mp3",controls:""}})]),t._v(" "),a("h2",{attrs:{id:"midiデータの読み込み"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#midiデータの読み込み"}},[t._v("#")]),t._v(" MIDIデータの読み込み")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" mido\nmid "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mido"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MidiFile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./midi/newtempo_song.mid'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" msg "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" mid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tracks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" msg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("type")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'note_on'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("msg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# note_on channel=0 note=60 velocity=64 time=0")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# note_on channel=0 note=64 velocity=64 time=0")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# note_on channel=0 note=67 velocity=64 time=0")]),t._v("\n")])])]),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" mido\nmid "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mido"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MidiFile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./midi/newtempo_song.mid'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" track "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" mid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tracks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("track"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"--------------------------------------"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# MetaMessage('set_tempo', tempo=500000, time=0)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# --------------------------------------")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# note_on channel=0 note=60 velocity=64 time=0")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# --------------------------------------")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# note_off channel=0 note=60 velocity=64 time=480")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# --------------------------------------")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# note_on channel=0 note=64 velocity=64 time=0")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# --------------------------------------")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# note_off channel=0 note=64 velocity=64 time=480")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# --------------------------------------")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# note_on channel=0 note=67 velocity=64 time=0")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# --------------------------------------")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# note_off channel=0 note=67 velocity=64 time=480")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# --------------------------------------")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# MetaMessage('end_of_track', time=0)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# --------------------------------------")]),t._v("\n")])])]),a("h2",{attrs:{id:"まとめ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#まとめ"}},[t._v("#")]),t._v(" まとめ")]),t._v(" "),a("p",[t._v("PythonでMIDIデータを扱いました．")]),t._v(" "),a("h2",{attrs:{id:"参考サイト"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考サイト"}},[t._v("#")]),t._v(" 参考サイト")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://axross-recipe.com/recipes/429",target:"_blank",rel:"noopener noreferrer"}},[t._v("Pythonで音楽を演奏するレシピ"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://windy-vis.com/art/download/midi_files.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("MIDI FILE NAVIGATOR"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://hjp.hatenablog.com/entry/2021/03/01/213026",target:"_blank",rel:"noopener noreferrer"}},[t._v("Midoを使ってPythonでmidiを読み込む"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://mido.readthedocs.io/en/latest/meta_message_types.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Meta Message Types"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://qiita.com/tjsurume/items/75a96381fd57d5350971",target:"_blank",rel:"noopener noreferrer"}},[t._v("Midoを使ってPythonでMIDIを扱ってみよう"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://tattyamm.blog.jp/archives/5761686.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python MidoでのMIDIファイル生成方法メモ"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.g200kg.com/jp/docs/dic/bpm.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("偏ったDTM用語辞典 > BPM ビーピーエム"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.audiokinetic.com/ja/library/2017.1.9_6501/?source=Help&id=understanding_midi_tempo",target:"_blank",rel:"noopener noreferrer"}},[t._v("MIDIテンポを理解する"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://ja.osdn.net/projects/sfnet_androidframe/downloads/soundfonts/FluidR3_GM.sf2/",target:"_blank",rel:"noopener noreferrer"}},[t._v("FluidR3_GM.sf2"),a("OutboundLink")],1)]),t._v(" "),a("ClientOnly",[a("CallInArticleAdsense")],1),t._v(" "),a("p",[a("a",{attrs:{href:"//af.moshimo.com/af/c/click?a_id=2604050&p_id=1555&pc_id=2816&pl_id=29835&guid=ON",rel:"nofollow",referrerpolicy:"no-referrer-when-downgrade"}},[a("img",{staticStyle:{border:"none"},attrs:{src:"//image.moshimo.com/af-img/0866/000000029835.jpg",width:"728",height:"90"}})]),a("img",{staticStyle:{border:"none"},attrs:{src:"//i.moshimo.com/af/i/impression?a_id=2604050&p_id=1555&pc_id=2816&pl_id=29835",width:"1",height:"1"}})]),t._v(" "),a("p",[a("a",{attrs:{href:"//af.moshimo.com/af/c/click?a_id=2641145&p_id=1770&pc_id=3386&pl_id=25847&guid=ON",rel:"nofollow",referrerpolicy:"no-referrer-when-downgrade"}},[a("img",{staticStyle:{border:"none"},attrs:{src:"//image.moshimo.com/af-img/1115/000000025847.png",width:"728",height:"90"}})]),a("img",{staticStyle:{border:"none"},attrs:{src:"//i.moshimo.com/af/i/impression?a_id=2641145&p_id=1770&pc_id=3386&pl_id=25847",width:"1",height:"1"}})])],1)}),[],!1,null,null,null);s.default=e.exports}}]);