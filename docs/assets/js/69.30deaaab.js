(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{403:function(t,s,e){"use strict";e.r(s);var n=e(2),a=Object(n.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("Google ColaboratoryでNimが扱えるそうなので，慣れるために適当な関数を作って慣れてみようと思います．\n")]),t._v(" "),e("blockquote",[e("p",[t._v("Google Colaboratory（以下Google Colab）は、Google社が無料で提供している機械学習の教育や研究用の開発環境です。開発環境はJupyter Notebookに似たインターフェースを持ち、Pythonの主要なライブラリがプリインストールされています。"),e("br"),t._v("\n引用元："),e("a",{attrs:{href:"https://interface.cqpub.co.jp/ail01/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Google Colabの使い方"),e("OutboundLink")],1)])]),t._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#google-colabのファイル構成"}},[t._v("Google Colabのファイル構成")])]),e("li",[e("a",{attrs:{href:"#google-driveと連携"}},[t._v("Google Driveと連携")])]),e("li",[e("a",{attrs:{href:"#nim4colabのインストール"}},[t._v("nim4colabのインストール")])]),e("li",[e("a",{attrs:{href:"#nimのコードを作成"}},[t._v("nimのコードを作成")])]),e("li",[e("a",{attrs:{href:"#nimのコードの実行"}},[t._v("nimのコードの実行")])]),e("li",[e("a",{attrs:{href:"#まとめ"}},[t._v("まとめ")])]),e("li",[e("a",{attrs:{href:"#参考サイト"}},[t._v("参考サイト")])])])]),e("p"),t._v(" "),e("h2",{attrs:{id:"google-colabのファイル構成"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#google-colabのファイル構成"}},[t._v("#")]),t._v(" Google Colabのファイル構成")]),t._v(" "),e("p",[t._v("プロジェクトディレクトリはfirst_nimとしています．度々，省略しています．")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("first_nim\n├── Nim4Colab_first.ipynb\n├── reverse.nim \n└── reverse\n")])])]),e("h2",{attrs:{id:"google-driveと連携"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#google-driveと連携"}},[t._v("#")]),t._v(" Google Driveと連携")]),t._v(" "),e("p",[t._v("Google ColabとGoogle Driveを連携させ，作業ディレクトリ(ここではfirst_nim)に移動します．"),e("br")]),t._v(" "),e("div",{staticClass:"language-python extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Google ColabとGoogle Driveを連携")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" google"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("colab "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" drive\ndrive"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mount"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/content/drive'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("div",{staticClass:"language-python extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ディレクトリの移動")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("cd "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("content"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("drive"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("My\\ Drive"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Nimnim"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("first_nim\n!ls\n")])])]),e("h2",{attrs:{id:"nim4colabのインストール"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nim4colabのインストール"}},[t._v("#")]),t._v(" nim4colabのインストール")]),t._v(" "),e("p",[t._v("Google Colab で nimコマンドを使用するためのライブラリであるnim4colabをインストールします．")]),t._v(" "),e("div",{staticClass:"language-python extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[t._v("!pip install git"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("https"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("//")]),t._v("github"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("demotomohiro"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nim4colab"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("load_ext nim4colab\n")])])]),e("h2",{attrs:{id:"nimのコードを作成"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nimのコードを作成"}},[t._v("#")]),t._v(" nimのコードを作成")]),t._v(" "),e("p",[t._v("文字列を返すコードをお試しで作成します．")]),t._v(" "),e("p",[t._v("このコードで現時点で解読できていることを以下に示します．")]),t._v(" "),e("ul",[e("li",[t._v("%%writefile ＊＊＊.nimで出力するファイル名を指定します．")]),t._v(" "),e("li",[t._v("「proc reverse(s: string): string」は，Pythonでいう「def reverse(s)」のようです．")]),t._v(" "),e("li",[t._v('「echo "Reversed: ", reverse(str1)」は，Pythonでいう「print("Reversed: ", reverse(str1))」のようです．')]),t._v(" "),e("li",[t._v("「high(s)」は，Pythonでいう「len(s)」のようです．")]),t._v(" "),e("li",[t._v("「for i in countdown(12, 0)」は「12, 11, 10,・・1, 0」と出力される．")]),t._v(" "),e("li",[t._v("「for i in countup(0, 12)」は「0, 1, 2,・・11, 12」と出力される．Pythonでは「for i in range(0, 12)」となる．")]),t._v(" "),e("li",[t._v('「result = ""」 で「result.add "a" 」は，5回実行されると「result = "aaaaa"」となる．Pythonでは「result =+ "a"」となる．')])]),t._v(" "),e("div",{staticClass:"language-nim extra-class"},[e("pre",{pre:!0,attrs:{class:"language-nim"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# セル内のreverse関数をreverse.minとして書き出し")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%%")]),t._v("writefile reverse"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("nim\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proc")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("reverse")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n  result "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 暗黙的なresult変数")]),t._v("\n  echo "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("high")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("in")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("countdown")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("high")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n    echo i\n    result"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("add s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proc")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("not_reverse")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n  result "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 暗黙的なresult変数")]),t._v("\n  echo "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("high")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("in")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("countup")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("high")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n    echo i\n    result"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("add s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" str1 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Reverse This!"')]),t._v("\necho "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Reversed: "')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("reverse")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\necho "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"------------------------------"')]),t._v("\necho "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Not Reversed: "')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("not_reverse")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("h2",{attrs:{id:"nimのコードの実行"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nimのコードの実行"}},[t._v("#")]),t._v(" nimのコードの実行")]),t._v(" "),e("p",[t._v("作成したnimファイルは「nim complie –run reverse.nim」or 「nim c -r reverse.nim」で実行できます．")]),t._v(" "),e("p",[t._v("-d:release を追記すると，デバック情報が書き込まれないので軽くなるようです．")]),t._v(" "),e("div",{staticClass:"language-python extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("nim c "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r reverse"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nim\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# %nim c -d:release reverse.nim")]),t._v("\n")])])]),e("p",[t._v("出力は以下のようになる．")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("Hint: used config file '/root/nim-stable/nim/config/nim.cfg' [Conf]\nHint: used config file '/root/nim-stable/nim/config/config.nims' [Conf]\n....CC: reverse.nim\n\nHint:  [Link]\nHint: 22434 lines; 0.394s; 25.59MiB peakmem; Debug build; proj: /content/drive/My Drive/Nimnim/first_nim/reverse.nim; out: /content/drive/My Drive/Nimnim/first_nim/reverse [SuccessX]\nHint: '/content/drive/My Drive/Nimnim/first_nim/reverse'  [Exec]\n12\n12\n11\n10\n9\n8\n7\n6\n5\n4\n3\n2\n1\n0\nReversed: !sihT esreveR\n------------------------------\n12\n0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\nNot Reversed: Reverse This!\n")])])]),e("h2",{attrs:{id:"まとめ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#まとめ"}},[t._v("#")]),t._v(" まとめ")]),t._v(" "),e("p",[t._v("Nimに慣れるために適当な関数を作成してみました．")]),t._v(" "),e("p",[t._v("次は，学習しやすいようにNotebook風に実行できるようにします．")]),t._v(" "),e("h2",{attrs:{id:"参考サイト"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考サイト"}},[t._v("#")]),t._v(" 参考サイト")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://agency-star.co.jp/column/nim/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nimの特徴や使い方をわかりやすく解説！"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://qiita.com/k4saNova/items/5bb67d1cb40ba90431af",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nim初心者が始めるNimとnimpy"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://medium.com/statch/speeding-up-python-code-with-nim-ec205a8a5d9c",target:"_blank",rel:"noopener noreferrer"}},[t._v("Speeding up Python code with Nim"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://zenn.dev/megane_otoko/articles/029_nim_for_python",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nimを組み込んでPythonを高速化してみた"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://qiita.com/rigani/items/6e87c7cee6903ed65ed2",target:"_blank",rel:"noopener noreferrer"}},[t._v("至高の言語、Nimを始めるエンジニアへ"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://nim-lang.org/docs/nimc.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nim Compiler User Guide"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://cpprefjp.github.io/lang/cpp11/thread_local_storage.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("スレッドローカルストレージ"),e("OutboundLink")],1)]),t._v(" "),e("ClientOnly",[e("CallInArticleAdsense")],1)],1)}),[],!1,null,null,null);s.default=a.exports}}]);