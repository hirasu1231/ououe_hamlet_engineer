(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{450:function(t,e,s){"use strict";s.r(e);var r=s(2),a=Object(r.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("Google ColaboratoryでNimが扱えるそうなので，慣れるために適当な関数を作って慣れてみようと思います．")]),t._v(" "),s("ClientOnly",[s("CallInArticleAdsense")],1),t._v(" "),s("blockquote",[s("p",[t._v("Google Colaboratory（以下Google Colab）は、Google社が無料で提供している機械学習の教育や研究用の開発環境です。開発環境はJupyter Notebookに似たインターフェースを持ち、Pythonの主要なライブラリがプリインストールされています。"),s("br"),t._v("\n引用元："),s("a",{attrs:{href:"https://interface.cqpub.co.jp/ail01/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Google Colabの使い方"),s("OutboundLink")],1)])]),t._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#google-colabのファイル構成"}},[t._v("Google Colabのファイル構成")])]),s("li",[s("a",{attrs:{href:"#google-driveと連携"}},[t._v("Google Driveと連携")])]),s("li",[s("a",{attrs:{href:"#nim4colabのインストール"}},[t._v("nim4colabのインストール")])]),s("li",[s("a",{attrs:{href:"#nimのコードを作成"}},[t._v("nimのコードを作成")])]),s("li",[s("a",{attrs:{href:"#nimのコードの実行"}},[t._v("nimのコードの実行")])]),s("li",[s("a",{attrs:{href:"#まとめ"}},[t._v("まとめ")])]),s("li",[s("a",{attrs:{href:"#参考サイト"}},[t._v("参考サイト")])])])]),s("p"),t._v(" "),s("p",[s("a",{attrs:{href:"//af.moshimo.com/af/c/click?a_id=2604050&p_id=1555&pc_id=2816&pl_id=29835&guid=ON",rel:"nofollow",referrerpolicy:"no-referrer-when-downgrade"}},[s("img",{staticStyle:{border:"none"},attrs:{src:"//image.moshimo.com/af-img/0866/000000029835.jpg",width:"728",height:"90"}})]),s("img",{staticStyle:{border:"none"},attrs:{src:"//i.moshimo.com/af/i/impression?a_id=2604050&p_id=1555&pc_id=2816&pl_id=29835",width:"1",height:"1"}})]),t._v(" "),s("p",[s("a",{attrs:{href:"//af.moshimo.com/af/c/click?a_id=2641145&p_id=1770&pc_id=3386&pl_id=25847&guid=ON",rel:"nofollow",referrerpolicy:"no-referrer-when-downgrade"}},[s("img",{staticStyle:{border:"none"},attrs:{src:"//image.moshimo.com/af-img/1115/000000025847.png",width:"728",height:"90"}})]),s("img",{staticStyle:{border:"none"},attrs:{src:"//i.moshimo.com/af/i/impression?a_id=2641145&p_id=1770&pc_id=3386&pl_id=25847",width:"1",height:"1"}})]),t._v(" "),s("h2",{attrs:{id:"google-colabのファイル構成"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#google-colabのファイル構成"}},[t._v("#")]),t._v(" Google Colabのファイル構成")]),t._v(" "),s("p",[t._v("プロジェクトディレクトリはfirst_nimとしています．度々，省略しています．")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("first_nim\n├── Nim4Colab_first.ipynb\n├── reverse.nim \n└── reverse\n")])])]),s("h2",{attrs:{id:"google-driveと連携"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#google-driveと連携"}},[t._v("#")]),t._v(" Google Driveと連携")]),t._v(" "),s("p",[t._v("Google ColabとGoogle Driveを連携させ，作業ディレクトリ(ここではfirst_nim)に移動します．"),s("br")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Google ColabとGoogle Driveを連携")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" google"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("colab "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" drive\ndrive"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/content/drive'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ディレクトリの移動")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("cd "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("content"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("drive"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("My\\ Drive"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Nimnim"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("first_nim\n!ls\n")])])]),s("h2",{attrs:{id:"nim4colabのインストール"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nim4colabのインストール"}},[t._v("#")]),t._v(" nim4colabのインストール")]),t._v(" "),s("p",[t._v("Google Colab で nimコマンドを使用するためのライブラリであるnim4colabをインストールします．")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("!pip install git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("https"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("//")]),t._v("github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("demotomohiro"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nim4colab"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("load_ext nim4colab\n")])])]),s("h2",{attrs:{id:"nimのコードを作成"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nimのコードを作成"}},[t._v("#")]),t._v(" nimのコードを作成")]),t._v(" "),s("p",[t._v("文字列を返すコードをお試しで作成します．")]),t._v(" "),s("p",[t._v("このコードで現時点で解読できていることを以下に示します．")]),t._v(" "),s("ul",[s("li",[t._v("%%writefile ＊＊＊.nimで出力するファイル名を指定します．")]),t._v(" "),s("li",[t._v("「proc reverse(s: string): string」は，Pythonでいう「def reverse(s)」のようです．")]),t._v(" "),s("li",[t._v('「echo "Reversed: ", reverse(str1)」は，Pythonでいう「print("Reversed: ", reverse(str1))」のようです．')]),t._v(" "),s("li",[t._v("「high(s)」は，Pythonでいう「len(s)」のようです．")]),t._v(" "),s("li",[t._v("「for i in countdown(12, 0)」は「12, 11, 10,・・1, 0」と出力される．")]),t._v(" "),s("li",[t._v("「for i in countup(0, 12)」は「0, 1, 2,・・11, 12」と出力される．Pythonでは「for i in range(0, 12)」となる．")]),t._v(" "),s("li",[t._v('「result = ""」 で「result.add "a" 」は，5回実行されると「result = "aaaaa"」となる．Pythonでは「result =+ "a"」となる．')])]),t._v(" "),s("div",{staticClass:"language-nim extra-class"},[s("pre",{pre:!0,attrs:{class:"language-nim"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# セル内のreverse関数をreverse.minとして書き出し")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%%")]),t._v("writefile reverse"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("nim\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proc")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reverse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n  result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 暗黙的なresult変数")]),t._v("\n  echo "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("high")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("countdown")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("high")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n    echo i\n    result"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("add s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proc")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("not_reverse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n  result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 暗黙的なresult変数")]),t._v("\n  echo "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("high")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("countup")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("high")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n    echo i\n    result"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("add s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" str1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Reverse This!"')]),t._v("\necho "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Reversed: "')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reverse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\necho "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"------------------------------"')]),t._v("\necho "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Not Reversed: "')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("not_reverse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"nimのコードの実行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nimのコードの実行"}},[t._v("#")]),t._v(" nimのコードの実行")]),t._v(" "),s("p",[t._v("作成したnimファイルは「nim complie –run reverse.nim」or 「nim c -r reverse.nim」で実行できます．")]),t._v(" "),s("p",[t._v("-d:release を追記すると，デバック情報が書き込まれないので軽くなるようです．")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("nim c "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r reverse"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nim\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# %nim c -d:release reverse.nim")]),t._v("\n")])])]),s("p",[t._v("出力は以下のようになる．")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Hint: used config file '/root/nim-stable/nim/config/nim.cfg' [Conf]\nHint: used config file '/root/nim-stable/nim/config/config.nims' [Conf]\n....CC: reverse.nim\n\nHint:  [Link]\nHint: 22434 lines; 0.394s; 25.59MiB peakmem; Debug build; proj: /content/drive/My Drive/Nimnim/first_nim/reverse.nim; out: /content/drive/My Drive/Nimnim/first_nim/reverse [SuccessX]\nHint: '/content/drive/My Drive/Nimnim/first_nim/reverse'  [Exec]\n12\n12\n11\n10\n9\n8\n7\n6\n5\n4\n3\n2\n1\n0\nReversed: !sihT esreveR\n------------------------------\n12\n0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\nNot Reversed: Reverse This!\n")])])]),s("h2",{attrs:{id:"まとめ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#まとめ"}},[t._v("#")]),t._v(" まとめ")]),t._v(" "),s("p",[t._v("Nimに慣れるために適当な関数を作成してみました．")]),t._v(" "),s("p",[t._v("次は，学習しやすいようにNotebook風に実行できるようにします．")]),t._v(" "),s("h2",{attrs:{id:"参考サイト"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考サイト"}},[t._v("#")]),t._v(" 参考サイト")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://agency-star.co.jp/column/nim/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nimの特徴や使い方をわかりやすく解説！"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://qiita.com/k4saNova/items/5bb67d1cb40ba90431af",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nim初心者が始めるNimとnimpy"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://medium.com/statch/speeding-up-python-code-with-nim-ec205a8a5d9c",target:"_blank",rel:"noopener noreferrer"}},[t._v("Speeding up Python code with Nim"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://zenn.dev/megane_otoko/articles/029_nim_for_python",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nimを組み込んでPythonを高速化してみた"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://qiita.com/rigani/items/6e87c7cee6903ed65ed2",target:"_blank",rel:"noopener noreferrer"}},[t._v("至高の言語、Nimを始めるエンジニアへ"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://nim-lang.org/docs/nimc.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nim Compiler User Guide"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://cpprefjp.github.io/lang/cpp11/thread_local_storage.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("スレッドローカルストレージ"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"//af.moshimo.com/af/c/click?a_id=2604050&p_id=1555&pc_id=2816&pl_id=29835&guid=ON",rel:"nofollow",referrerpolicy:"no-referrer-when-downgrade"}},[s("img",{staticStyle:{border:"none"},attrs:{src:"//image.moshimo.com/af-img/0866/000000029835.jpg",width:"728",height:"90"}})]),s("img",{staticStyle:{border:"none"},attrs:{src:"//i.moshimo.com/af/i/impression?a_id=2604050&p_id=1555&pc_id=2816&pl_id=29835",width:"1",height:"1"}})]),t._v(" "),s("p",[s("a",{attrs:{href:"//af.moshimo.com/af/c/click?a_id=2641145&p_id=1770&pc_id=3386&pl_id=25847&guid=ON",rel:"nofollow",referrerpolicy:"no-referrer-when-downgrade"}},[s("img",{staticStyle:{border:"none"},attrs:{src:"//image.moshimo.com/af-img/1115/000000025847.png",width:"728",height:"90"}})]),s("img",{staticStyle:{border:"none"},attrs:{src:"//i.moshimo.com/af/i/impression?a_id=2641145&p_id=1770&pc_id=3386&pl_id=25847",width:"1",height:"1"}})]),t._v(" "),s("ClientOnly",[s("CallInArticleAdsense")],1)],1)}),[],!1,null,null,null);e.default=a.exports}}]);