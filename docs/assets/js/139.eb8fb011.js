(window.webpackJsonp=window.webpackJsonp||[]).push([[139],{491:function(t,a,s){"use strict";s.r(a);var n=s(2),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("YouTube Data API を使ってキーワード検索から動画のタイトル等の情報を取得します．")]),t._v(" "),s("ClientOnly",[s("CallInArticleAdsense")],1),t._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#youtube-data-apとは"}},[t._v("YouTube Data APとは")])]),s("li",[s("a",{attrs:{href:"#モジュールのインストール"}},[t._v("モジュールのインストール")])]),s("li",[s("a",{attrs:{href:"#youtubeの情報を取得-1つの動画"}},[t._v("youtubeの情報を取得(1つの動画)")]),s("ul",[s("li",[s("a",{attrs:{href:"#youtubeの情報をjson形式で取得"}},[t._v("youtubeの情報をJson形式で取得")])]),s("li",[s("a",{attrs:{href:"#youtubeの情報をdataframe形式で取得"}},[t._v("youtubeの情報をDataFrame形式で取得")])])])]),s("li",[s("a",{attrs:{href:"#参考サイト"}},[t._v("参考サイト")])])])]),s("p"),t._v(" "),s("p",[s("a",{attrs:{href:"https://px.a8.net/svt/ejp?a8mat=3HBXCY+4DRW36+50+2HM5Z5",rel:"nofollow"}},[s("img",{attrs:{border:"0",width:"1000",height:"124",alt:"",src:"https://www27.a8.net/svt/bgt?aid=210508450265&wid=001&eno=01&mid=s00000000018015052000&mc=1"}})]),s("img",{attrs:{border:"0",width:"1",height:"1",src:"https://www10.a8.net/0.gif?a8mat=3HBXCY+4DRW36+50+2HM5Z5",alt:""}})]),t._v(" "),s("p",[s("a",{attrs:{href:"https://px.a8.net/svt/ejp?a8mat=3HIN6N+3YAMCY+CO4+6BMG1",rel:"nofollow"}},[s("img",{attrs:{border:"0",width:"1000",height:"124",alt:"",src:"https://www23.a8.net/svt/bgt?aid=210821855239&wid=001&eno=01&mid=s00000001642001062000&mc=1"}})]),s("img",{attrs:{border:"0",width:"1",height:"1",src:"https://www17.a8.net/0.gif?a8mat=3HIN6N+3YAMCY+CO4+6BMG1",alt:""}})]),t._v(" "),s("p",[s("a",{attrs:{href:"https://px.a8.net/svt/ejp?a8mat=3HIN6N+7FBNEA+4AQ0+5YJRM",rel:"nofollow"}},[t._v("全国630店舗以上！もみほぐし・足つぼ・ハンドリフレ・クイックヘッドのリラクゼーション店【りらくる】")]),s("img",{attrs:{border:"0",width:"1",height:"1",src:"https://www15.a8.net/0.gif?a8mat=3HIN6N+7FBNEA+4AQ0+5YJRM",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"youtube-data-apとは"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#youtube-data-apとは"}},[t._v("#")]),t._v(" YouTube Data APとは")]),t._v(" "),s("blockquote",[s("p",[t._v("YouTubeが提供しているAPIで、動画やチャンネル、再生リストに関わる情報を取得して、自分のWebサイトやアプリケーションで使用することができます。"),s("br"),t._v("\n公式のドキュメントが用意されているので、詳しくはこちらをご覧ください。"),s("br"),t._v("\nhttps://developers.google.com/youtube/v3/getting-started?hl=ja"),s("br"),t._v("\n引用元:"),s("a",{attrs:{href:"https://liginc.co.jp/497428#:~:text=%E3%81%BE%E3%81%A8%E3%82%81-,YouTube%20Data%20API%E3%81%A8%E3%81%AF,%E3%81%99%E3%82%8B%E3%81%93%E3%81%A8%E3%81%8C%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%99%E3%80%82",target:"_blank",rel:"noopener noreferrer"}},[t._v("YouTube Data API v3を使用して、YouTubeページと同じリストモジュールを作ってみた"),s("OutboundLink")],1)])]),t._v(" "),s("blockquote",[s("p",[t._v("YouTube が提供している API で、動画やチャンネルなど情報を取得して、自分の Web サイトやアプリケーションで使用することができます。"),s("br"),t._v("\n一日あたりのAPI使用量（クォータ）の上限が10000になっているので、注意して使用してください。"),s("br"),t._v("\n引用元:"),s("a",{attrs:{href:"https://qiita.com/ryoya41/items/dd1fd4c1427ece787eea",target:"_blank",rel:"noopener noreferrer"}},[t._v("【Python】YouTube Data API を使って、いろんな情報を取得してみた！"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"モジュールのインストール"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#モジュールのインストール"}},[t._v("#")]),t._v(" モジュールのインストール")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("!pip install google"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("api"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("python"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("client\n")])])]),s("h2",{attrs:{id:"youtubeの情報を取得-1つの動画"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#youtubeの情報を取得-1つの動画"}},[t._v("#")]),t._v(" youtubeの情報を取得(1つの動画)")]),t._v(" "),s("p",[t._v("特定のキーワードで検索かけて，複数の動画の情報を取得します．")]),t._v(" "),s("p",[t._v("最終的には,DataFrameで出力します．")]),t._v(" "),s("p",[t._v("ここでは，以下の情報を取得します．")]),t._v(" "),s("ul",[s("li",[t._v("video_id")]),t._v(" "),s("li",[t._v("タイトル")]),t._v(" "),s("li",[t._v("クレイピング日時")]),t._v(" "),s("li",[t._v("動画の公開日時")]),t._v(" "),s("li",[t._v("チャンネルタイトル")]),t._v(" "),s("li",[t._v("チャンネルID")]),t._v(" "),s("li",[t._v("概要欄")]),t._v(" "),s("li",[t._v("サムネイル")])]),t._v(" "),s("h3",{attrs:{id:"youtubeの情報をjson形式で取得"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#youtubeの情報をjson形式で取得"}},[t._v("#")]),t._v(" youtubeの情報をJson形式で取得")]),t._v(" "),s("p",[t._v("ここでは，特定キーワードを含むタイトルの動画を再生回数順でJson形式で取得します．")]),t._v(" "),s("ul",[s("li",[t._v("part:取得情報(snippet)")]),t._v(" "),s("li",[t._v("q：キーワード")]),t._v(" "),s("li",[t._v("order：ソートする項目\n"),s("ul",[s("li",[t._v("date：リソースを作成日の新しい順に並べます。")]),t._v(" "),s("li",[t._v("rating：リソースを評価の高い順に並べます。")]),t._v(" "),s("li",[t._v("relevance：リソースを検索クエリの関連性が高い順に並べます。このパラメータのデフォルト値です。")]),t._v(" "),s("li",[t._v("title：リソースをタイトルのアルファベット順に並べます。")]),t._v(" "),s("li",[t._v("videoCount：アップロード動画の番号順（降順）にチャンネルを並べます。")]),t._v(" "),s("li",[t._v("viewCount：リソースを再生回数の多い順に並べます。")])])]),t._v(" "),s("li",[t._v("type：検索対象のタイプ(channel・playlist・video)")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" datetime\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" pandas "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" pd\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" apiclient"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("discovery "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" build\n\nYOUTUBE_API_KEY "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'AIzaSyCjNsPtyaDBn0_mOW0DbxNhU9BxkCrqPAs'")]),t._v("\n\nyoutube "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" build"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'youtube'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'v3'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" developerKey"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("YOUTUBE_API_KEY"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nsearch_response "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" youtube"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("list")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    part"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'snippet'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#検索したい文字列を指定")]),t._v("\n    q"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ボードゲーム'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#視聴回数が多い順に取得")]),t._v("\n    order"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'viewCount'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'video'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("execute"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 1度に取得できる数")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'json_length：{}'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("format")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("len")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("search_response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'items'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Json形式での情報")]),t._v("\ndisplay"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("search_response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'items'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("json_length：5\n\n\n\n{'kind': 'youtube#searchResult',\n 'etag': 'WPSsGnBDDsoYs6kDsziwxAeQx-0',\n 'id': {'kind': 'youtube#video', 'videoId': 'ASusE5qjoAg'},\n 'snippet': {'publishedAt': '2019-05-31T11:58:15Z',\n  'channelId': 'UCutJqz56653xV2wwSvut_hQ',\n  'title': '【目指せ商品化】文理対抗！ガチンコボードゲーム作り対決！',\n  'description': '東海オンエアってもう｢チャンネル登録してください｣とか｢高評価よろしくお願いします｣とか言わなくなっちゃったけど、やっぱり言ったほうがいいってばよ？ チャンネル登録 ...',\n  'thumbnails': {'default': {'url': 'https://i.ytimg.com/vi/ASusE5qjoAg/default.jpg',\n    'width': 120,\n    'height': 90},\n   'medium': {'url': 'https://i.ytimg.com/vi/ASusE5qjoAg/mqdefault.jpg',\n    'width': 320,\n    'height': 180},\n   'high': {'url': 'https://i.ytimg.com/vi/ASusE5qjoAg/hqdefault.jpg',\n    'width': 480,\n    'height': 360}},\n  'channelTitle': '東海オンエア',\n  'liveBroadcastContent': 'none',\n  'publishTime': '2019-05-31T11:58:15Z'}}\n")])])]),s("h3",{attrs:{id:"youtubeの情報をdataframe形式で取得"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#youtubeの情報をdataframe形式で取得"}},[t._v("#")]),t._v(" youtubeの情報をDataFrame形式で取得")]),t._v(" "),s("p",[t._v("ここでは，特定キーワードを含むタイトルの動画を再生回数順でDataFrame形式で取得します．")]),t._v(" "),s("p",[t._v("また，任意の動画数分だけ取得できるようにもしています．")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#numに入れた数字×5件の情報を取得")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#その他のパラメーターはAPIから情報を取得するパラメータと同じ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 動画のタイトル等を抜粋()")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_video_info")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("part"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" q"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" order"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" num"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    dic_list "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    search_response "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" youtube"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("list")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("part"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("part"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("q"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("q"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("order"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("order"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    output "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" youtube"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("list")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("part"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("part"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("q"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("q"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("order"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("order"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("execute"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#一度に5件しか取得できないため何度も繰り返して実行")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("num"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("        \n        dic_list "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dic_list "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'items'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        search_response "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" youtube"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("list_next"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("search_response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        output "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" search_response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("execute"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    df "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DataFrame"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dic_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#各動画毎に一意のvideoIdを取得")]),t._v("\n    df1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DataFrame"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("list")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'videoId'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#各動画毎に一意のvideoIdを取得必要な動画情報だけ取得")]),t._v("\n    df2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DataFrame"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("list")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'snippet'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'channelTitle'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'publishedAt'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'channelId'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'title'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'description'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'thumbnails'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    \n    ddf "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("concat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("df1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("df2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" axis "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 日本時刻に修正+9hours")]),t._v("\n    ddf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'publishedAt'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("to_datetime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ddf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'publishedAt'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" datetime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timedelta"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hours"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" ddf\n")])])]),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 引数")]),t._v("\npart"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'snippet'")]),t._v("\nq "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ボードゲーム'")]),t._v("\norder "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'date'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'video'")]),t._v("\nnum "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#Max:75/day->75*5=375本/day")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# APIの取得")]),t._v("\nYOUTUBE_API_KEY "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'＊＊＊＊＊＊＊＊＊＊＊＊'")]),t._v("\nyoutube "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" build"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'youtube'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'v3'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" developerKey"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("YOUTUBE_API_KEY"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 情報をデータフレーム形式で取得")]),t._v("\ndf_youtube "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_video_info"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("part"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" q"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" order"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" num"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndisplay"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("df_youtube"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("head"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# csvに出力")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# df_info.to_csv('{}_scape.csv'.format(scrape_date), index=False)")]),t._v("\n")])])]),s("div",[s("style",{attrs:{scoped:""}},[t._v('\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\x3c!--beforebegin--\x3e<div class="language- extra-class">\x3c!--afterbegin--\x3e<pre><code>.dataframe tbody tr th {\n    vertical-align: top;\n}\n\n.dataframe thead th {\n    text-align: right;\n}\n</code></pre>\n\x3c!--beforeend--\x3e</div>\x3c!--afterend--\x3e')]),t._v(" "),s("table",{staticClass:"dataframe",attrs:{border:"1"}},[s("thead",[s("tr",{staticStyle:{"text-align":"right"}},[s("th"),t._v(" "),s("th",[t._v("videoId")]),t._v(" "),s("th",[t._v("channelTitle")]),t._v(" "),s("th",[t._v("publishedAt")]),t._v(" "),s("th",[t._v("channelId")]),t._v(" "),s("th",[t._v("title")]),t._v(" "),s("th",[t._v("description")]),t._v(" "),s("th",[t._v("thumbnails")])])]),t._v(" "),s("tbody",[s("tr",[s("th",[t._v("0")]),t._v(" "),s("td",[t._v("4o2iX-BVcUQ")]),t._v(" "),s("td",[t._v("アジトベル 恵比寿のボードゲームカフェ")]),t._v(" "),s("td",[t._v("2021-06-15T23:00:04Z")]),t._v(" "),s("td",[t._v("UC3FA3Kz65VhfkuVQJWMyOAw")]),t._v(" "),s("td",[t._v("【おすすめボードゲーム】そこにそんなに⁉とんでもないところにこだわったボードゲーム3選【028】")]),t._v(" "),s("td",[t._v("製作者の愛を感じる♪ ▽△▽△▽△▽△▽△▽△▽△▽△▽△▽△▽△▽△ ☆アジトベル 恵比寿...")]),t._v(" "),s("td",[t._v("{'default': {'url': 'https://i.ytimg.com/vi/4o...")])]),t._v(" "),s("tr",[s("th",[t._v("1")]),t._v(" "),s("td",[t._v("e7JziFcyAyY")]),t._v(" "),s("td",[t._v("hobby again")]),t._v(" "),s("td",[t._v("2021-06-15T18:57:41Z")]),t._v(" "),s("td",[t._v("UC2lXqscjLeLc7F0H_4GKTug")]),t._v(" "),s("td",[t._v("アナと雪の女王２　ストーリーボードゲーム　王国のひみつ　ディズニー　エポック社　買う前の確認...")]),t._v(" "),s("td",[t._v("かうまえのかくにんようだよ.")]),t._v(" "),s("td",[t._v("{'default': {'url': 'https://i.ytimg.com/vi/e7...")])]),t._v(" "),s("tr",[s("th",[t._v("2")]),t._v(" "),s("td",[t._v("mCdnSLRLl38")]),t._v(" "),s("td",[t._v("LAP Youtube")]),t._v(" "),s("td",[t._v("2021-06-15T16:49:40Z")]),t._v(" "),s("td",[t._v("UCB-rg55VHCylqGcJAiDBt1Q")]),t._v(" "),s("td",[t._v("【居酒屋eラジオ】おもしろボードゲーム＆Knockout City")]),t._v(" "),s("td",[t._v("福岡女子 タレント3人がお酒を片手に #生配信 おしゃべりや #ゲーム やっちゃいます！ 女...")]),t._v(" "),s("td",[t._v("{'default': {'url': 'https://i.ytimg.com/vi/mC...")])]),t._v(" "),s("tr",[s("th",[t._v("3")]),t._v(" "),s("td",[t._v("cDWKV7l9NbI")]),t._v(" "),s("td",[t._v("きたこしちゃんねる")]),t._v(" "),s("td",[t._v("2021-06-15T14:54:52Z")]),t._v(" "),s("td",[t._v("UCQD1KbDFa25mnfUnF6ldzXw")]),t._v(" "),s("td",[t._v("【 #ボドこし 74】カートグラファー【バーチャルゲームカフェ】ボードゲームで遊ぼうよ！")]),t._v(" "),s("td",[t._v("1人から100人で遊べる？！紙ペンゲーム カートグラファーのご紹介&ソロプレイ配信です。 当...")]),t._v(" "),s("td",[t._v("{'default': {'url': 'https://i.ytimg.com/vi/cD...")])]),t._v(" "),s("tr",[s("th",[t._v("4")]),t._v(" "),s("td",[t._v("1Lx9rBOS150")]),t._v(" "),s("td",[t._v("sangenya")]),t._v(" "),s("td",[t._v("2021-06-15T12:17:26Z")]),t._v(" "),s("td",[t._v("UCUTG51hFXQavzdyAYmdN9XA")]),t._v(" "),s("td",[t._v("ボードゲーム制作 作業配信 五稜郭 0.10.2")]),t._v(" "),s("td",[t._v("マイクはありません。 https://twitter.com/toshi_kadota Mu...")]),t._v(" "),s("td",[t._v("{'default': {'url': 'https://i.ytimg.com/vi/1L...")])])])])]),t._v(" "),s("h2",{attrs:{id:"参考サイト"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考サイト"}},[t._v("#")]),t._v(" 参考サイト")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://qiita.com/ryoya41/items/dd1fd4c1427ece787eea",target:"_blank",rel:"noopener noreferrer"}},[t._v("【Python】YouTube Data API を使って、いろんな情報を取得してみた！"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://liginc.co.jp/497428#:~:text=%E3%81%BE%E3%81%A8%E3%82%81-,YouTube%20Data%20API%E3%81%A8%E3%81%AF,%E3%81%99%E3%82%8B%E3%81%93%E3%81%A8%E3%81%8C%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%99%E3%80%82",target:"_blank",rel:"noopener noreferrer"}},[t._v("YouTube Data API v3を使用して、YouTubeページと同じリストモジュールを作ってみた"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://qiita.com/g-k/items/7c98efe21257afac70e9",target:"_blank",rel:"noopener noreferrer"}},[t._v("Youtube Data APIを使ってPythonでYoutubeデータを取得する"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://developers.google.com/youtube/v3/docs/search/list?hl=ja",target:"_blank",rel:"noopener noreferrer"}},[t._v("Search: list | YouTube Data API | Google Developers"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://px.a8.net/svt/ejp?a8mat=3HBXCY+4DRW36+50+2HM5Z5",rel:"nofollow"}},[s("img",{attrs:{border:"0",width:"1000",height:"124",alt:"",src:"https://www27.a8.net/svt/bgt?aid=210508450265&wid=001&eno=01&mid=s00000000018015052000&mc=1"}})]),s("img",{attrs:{border:"0",width:"1",height:"1",src:"https://www10.a8.net/0.gif?a8mat=3HBXCY+4DRW36+50+2HM5Z5",alt:""}})]),t._v(" "),s("p",[s("a",{attrs:{href:"https://px.a8.net/svt/ejp?a8mat=3HIN6N+3YAMCY+CO4+6BMG1",rel:"nofollow"}},[s("img",{attrs:{border:"0",width:"1000",height:"124",alt:"",src:"https://www23.a8.net/svt/bgt?aid=210821855239&wid=001&eno=01&mid=s00000001642001062000&mc=1"}})]),s("img",{attrs:{border:"0",width:"1",height:"1",src:"https://www17.a8.net/0.gif?a8mat=3HIN6N+3YAMCY+CO4+6BMG1",alt:""}})]),t._v(" "),s("p",[s("a",{attrs:{href:"https://px.a8.net/svt/ejp?a8mat=3HIN6N+7FBNEA+4AQ0+5YJRM",rel:"nofollow"}},[t._v("全国630店舗以上！もみほぐし・足つぼ・ハンドリフレ・クイックヘッドのリラクゼーション店【りらくる】")]),s("img",{attrs:{border:"0",width:"1",height:"1",src:"https://www15.a8.net/0.gif?a8mat=3HIN6N+7FBNEA+4AQ0+5YJRM",alt:""}})]),t._v(" "),s("ClientOnly",[s("CallInArticleAdsense")],1)],1)}),[],!1,null,null,null);a.default=e.exports}}]);