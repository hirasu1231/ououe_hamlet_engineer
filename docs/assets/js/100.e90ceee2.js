(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{434:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("YouTube Data API を使ってキーワード検索から動画のタイトル等の情報を取得します．")]),t._v(" "),a("ClientOnly",[a("CallInArticleAdsense")],1),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#youtube-data-apとは"}},[t._v("YouTube Data APとは")])]),a("li",[a("a",{attrs:{href:"#モジュールのインストール"}},[t._v("モジュールのインストール")])]),a("li",[a("a",{attrs:{href:"#youtubeの情報を取得-1つの動画"}},[t._v("youtubeの情報を取得(1つの動画)")]),a("ul",[a("li",[a("a",{attrs:{href:"#youtubeの情報をjson形式で取得"}},[t._v("youtubeの情報をJson形式で取得")])]),a("li",[a("a",{attrs:{href:"#youtubeの情報をdataframe形式で取得"}},[t._v("youtubeの情報をDataFrame形式で取得")])])])]),a("li",[a("a",{attrs:{href:"#参考サイト"}},[t._v("参考サイト")])])])]),a("p"),t._v(" "),a("p",[a("a",{attrs:{href:"//af.moshimo.com/af/c/click?a_id=2604050&p_id=1555&pc_id=2816&pl_id=29835&guid=ON",rel:"nofollow",referrerpolicy:"no-referrer-when-downgrade"}},[a("img",{staticStyle:{border:"none"},attrs:{src:"//image.moshimo.com/af-img/0866/000000029835.jpg",width:"728",height:"90"}})]),a("img",{staticStyle:{border:"none"},attrs:{src:"//i.moshimo.com/af/i/impression?a_id=2604050&p_id=1555&pc_id=2816&pl_id=29835",width:"1",height:"1"}})]),t._v(" "),a("p",[a("a",{attrs:{href:"//af.moshimo.com/af/c/click?a_id=2641145&p_id=1770&pc_id=3386&pl_id=25847&guid=ON",rel:"nofollow",referrerpolicy:"no-referrer-when-downgrade"}},[a("img",{staticStyle:{border:"none"},attrs:{src:"//image.moshimo.com/af-img/1115/000000025847.png",width:"728",height:"90"}})]),a("img",{staticStyle:{border:"none"},attrs:{src:"//i.moshimo.com/af/i/impression?a_id=2641145&p_id=1770&pc_id=3386&pl_id=25847",width:"1",height:"1"}})]),t._v(" "),a("h2",{attrs:{id:"youtube-data-apとは"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#youtube-data-apとは"}},[t._v("#")]),t._v(" YouTube Data APとは")]),t._v(" "),a("blockquote",[a("p",[t._v("YouTubeが提供しているAPIで、動画やチャンネル、再生リストに関わる情報を取得して、自分のWebサイトやアプリケーションで使用することができます。"),a("br"),t._v("\n公式のドキュメントが用意されているので、詳しくはこちらをご覧ください。"),a("br"),t._v("\nhttps://developers.google.com/youtube/v3/getting-started?hl=ja"),a("br"),t._v("\n引用元:"),a("a",{attrs:{href:"https://liginc.co.jp/497428#:~:text=%E3%81%BE%E3%81%A8%E3%82%81-,YouTube%20Data%20API%E3%81%A8%E3%81%AF,%E3%81%99%E3%82%8B%E3%81%93%E3%81%A8%E3%81%8C%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%99%E3%80%82",target:"_blank",rel:"noopener noreferrer"}},[t._v("YouTube Data API v3を使用して、YouTubeページと同じリストモジュールを作ってみた"),a("OutboundLink")],1)])]),t._v(" "),a("blockquote",[a("p",[t._v("YouTube が提供している API で、動画やチャンネルなど情報を取得して、自分の Web サイトやアプリケーションで使用することができます。"),a("br"),t._v("\n一日あたりのAPI使用量（クォータ）の上限が10000になっているので、注意して使用してください。"),a("br"),t._v("\n引用元:"),a("a",{attrs:{href:"https://qiita.com/ryoya41/items/dd1fd4c1427ece787eea",target:"_blank",rel:"noopener noreferrer"}},[t._v("【Python】YouTube Data API を使って、いろんな情報を取得してみた！"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"モジュールのインストール"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#モジュールのインストール"}},[t._v("#")]),t._v(" モジュールのインストール")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("!pip install google"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("api"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("python"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("client\n")])])]),a("h2",{attrs:{id:"youtubeの情報を取得-1つの動画"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#youtubeの情報を取得-1つの動画"}},[t._v("#")]),t._v(" youtubeの情報を取得(1つの動画)")]),t._v(" "),a("p",[t._v("特定のキーワードで検索かけて，複数の動画の情報を取得します．")]),t._v(" "),a("p",[t._v("最終的には,DataFrameで出力します．")]),t._v(" "),a("p",[t._v("ここでは，以下の情報を取得します．")]),t._v(" "),a("ul",[a("li",[t._v("video_id")]),t._v(" "),a("li",[t._v("タイトル")]),t._v(" "),a("li",[t._v("クレイピング日時")]),t._v(" "),a("li",[t._v("動画の公開日時")]),t._v(" "),a("li",[t._v("チャンネルタイトル")]),t._v(" "),a("li",[t._v("チャンネルID")]),t._v(" "),a("li",[t._v("概要欄")]),t._v(" "),a("li",[t._v("サムネイル")])]),t._v(" "),a("h3",{attrs:{id:"youtubeの情報をjson形式で取得"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#youtubeの情報をjson形式で取得"}},[t._v("#")]),t._v(" youtubeの情報をJson形式で取得")]),t._v(" "),a("p",[t._v("ここでは，特定キーワードを含むタイトルの動画を再生回数順でJson形式で取得します．")]),t._v(" "),a("ul",[a("li",[t._v("part:取得情報(snippet)")]),t._v(" "),a("li",[t._v("q：キーワード")]),t._v(" "),a("li",[t._v("order：ソートする項目\n"),a("ul",[a("li",[t._v("date：リソースを作成日の新しい順に並べます。")]),t._v(" "),a("li",[t._v("rating：リソースを評価の高い順に並べます。")]),t._v(" "),a("li",[t._v("relevance：リソースを検索クエリの関連性が高い順に並べます。このパラメータのデフォルト値です。")]),t._v(" "),a("li",[t._v("title：リソースをタイトルのアルファベット順に並べます。")]),t._v(" "),a("li",[t._v("videoCount：アップロード動画の番号順（降順）にチャンネルを並べます。")]),t._v(" "),a("li",[t._v("viewCount：リソースを再生回数の多い順に並べます。")])])]),t._v(" "),a("li",[t._v("type：検索対象のタイプ(channel・playlist・video)")])]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" datetime\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" pandas "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" pd\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" apiclient"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("discovery "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" build\n\nYOUTUBE_API_KEY "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'AIzaSyCjNsPtyaDBn0_mOW0DbxNhU9BxkCrqPAs'")]),t._v("\n\nyoutube "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" build"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'youtube'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'v3'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" developerKey"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("YOUTUBE_API_KEY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nsearch_response "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" youtube"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("list")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    part"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'snippet'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#検索したい文字列を指定")]),t._v("\n    q"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ボードゲーム'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#視聴回数が多い順に取得")]),t._v("\n    order"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'viewCount'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'video'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("execute"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 1度に取得できる数")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'json_length：{}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("len")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("search_response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'items'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Json形式での情報")]),t._v("\ndisplay"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("search_response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'items'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("json_length：5\n\n\n\n{'kind': 'youtube#searchResult',\n 'etag': 'WPSsGnBDDsoYs6kDsziwxAeQx-0',\n 'id': {'kind': 'youtube#video', 'videoId': 'ASusE5qjoAg'},\n 'snippet': {'publishedAt': '2019-05-31T11:58:15Z',\n  'channelId': 'UCutJqz56653xV2wwSvut_hQ',\n  'title': '【目指せ商品化】文理対抗！ガチンコボードゲーム作り対決！',\n  'description': '東海オンエアってもう｢チャンネル登録してください｣とか｢高評価よろしくお願いします｣とか言わなくなっちゃったけど、やっぱり言ったほうがいいってばよ？ チャンネル登録 ...',\n  'thumbnails': {'default': {'url': 'https://i.ytimg.com/vi/ASusE5qjoAg/default.jpg',\n    'width': 120,\n    'height': 90},\n   'medium': {'url': 'https://i.ytimg.com/vi/ASusE5qjoAg/mqdefault.jpg',\n    'width': 320,\n    'height': 180},\n   'high': {'url': 'https://i.ytimg.com/vi/ASusE5qjoAg/hqdefault.jpg',\n    'width': 480,\n    'height': 360}},\n  'channelTitle': '東海オンエア',\n  'liveBroadcastContent': 'none',\n  'publishTime': '2019-05-31T11:58:15Z'}}\n")])])]),a("h3",{attrs:{id:"youtubeの情報をdataframe形式で取得"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#youtubeの情報をdataframe形式で取得"}},[t._v("#")]),t._v(" youtubeの情報をDataFrame形式で取得")]),t._v(" "),a("p",[t._v("ここでは，特定キーワードを含むタイトルの動画を再生回数順でDataFrame形式で取得します．")]),t._v(" "),a("p",[t._v("また，任意の動画数分だけ取得できるようにもしています．")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#numに入れた数字×5件の情報を取得")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#その他のパラメーターはAPIから情報を取得するパラメータと同じ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 動画のタイトル等を抜粋()")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_video_info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("part"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" q"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" order"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" num"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    dic_list "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    search_response "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" youtube"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("list")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("part"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("part"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("q"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("q"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("order"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("order"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    output "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" youtube"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("list")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("part"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("part"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("q"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("q"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("order"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("order"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("execute"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#一度に5件しか取得できないため何度も繰り返して実行")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("num"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("        \n        dic_list "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dic_list "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'items'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        search_response "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" youtube"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("list_next"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("search_response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        output "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" search_response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("execute"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    df "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DataFrame"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dic_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#各動画毎に一意のvideoIdを取得")]),t._v("\n    df1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DataFrame"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("list")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("df"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'videoId'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#各動画毎に一意のvideoIdを取得必要な動画情報だけ取得")]),t._v("\n    df2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DataFrame"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("list")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("df"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'snippet'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'channelTitle'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'publishedAt'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'channelId'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'title'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'description'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'thumbnails'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    \n    ddf "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("concat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("df1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("df2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" axis "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 日本時刻に修正+9hours")]),t._v("\n    ddf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'publishedAt'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("to_datetime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ddf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'publishedAt'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" datetime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timedelta"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hours"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" ddf\n")])])]),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 引数")]),t._v("\npart"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'snippet'")]),t._v("\nq "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ボードゲーム'")]),t._v("\norder "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'date'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("type")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'video'")]),t._v("\nnum "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#Max:75/day->75*5=375本/day")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# APIの取得")]),t._v("\nYOUTUBE_API_KEY "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'＊＊＊＊＊＊＊＊＊＊＊＊'")]),t._v("\nyoutube "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" build"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'youtube'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'v3'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" developerKey"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("YOUTUBE_API_KEY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 情報をデータフレーム形式で取得")]),t._v("\ndf_youtube "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_video_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("part"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" q"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" order"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" num"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndisplay"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("df_youtube"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("head"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# csvに出力")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# df_info.to_csv('{}_scape.csv'.format(scrape_date), index=False)")]),t._v("\n")])])]),a("div",[a("style",{attrs:{scoped:""}},[t._v('\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\x3c!--beforebegin--\x3e<div class="language- extra-class">\x3c!--afterbegin--\x3e<pre><code>.dataframe tbody tr th {\n    vertical-align: top;\n}\n\n.dataframe thead th {\n    text-align: right;\n}\n</code></pre>\n\x3c!--beforeend--\x3e</div>\x3c!--afterend--\x3e')]),t._v(" "),a("table",{staticClass:"dataframe",attrs:{border:"1"}},[a("thead",[a("tr",{staticStyle:{"text-align":"right"}},[a("th"),t._v(" "),a("th",[t._v("videoId")]),t._v(" "),a("th",[t._v("channelTitle")]),t._v(" "),a("th",[t._v("publishedAt")]),t._v(" "),a("th",[t._v("channelId")]),t._v(" "),a("th",[t._v("title")]),t._v(" "),a("th",[t._v("description")]),t._v(" "),a("th",[t._v("thumbnails")])])]),t._v(" "),a("tbody",[a("tr",[a("th",[t._v("0")]),t._v(" "),a("td",[t._v("4o2iX-BVcUQ")]),t._v(" "),a("td",[t._v("アジトベル 恵比寿のボードゲームカフェ")]),t._v(" "),a("td",[t._v("2021-06-15T23:00:04Z")]),t._v(" "),a("td",[t._v("UC3FA3Kz65VhfkuVQJWMyOAw")]),t._v(" "),a("td",[t._v("【おすすめボードゲーム】そこにそんなに⁉とんでもないところにこだわったボードゲーム3選【028】")]),t._v(" "),a("td",[t._v("製作者の愛を感じる♪ ▽△▽△▽△▽△▽△▽△▽△▽△▽△▽△▽△▽△ ☆アジトベル 恵比寿...")]),t._v(" "),a("td",[t._v("{'default': {'url': 'https://i.ytimg.com/vi/4o...")])]),t._v(" "),a("tr",[a("th",[t._v("1")]),t._v(" "),a("td",[t._v("e7JziFcyAyY")]),t._v(" "),a("td",[t._v("hobby again")]),t._v(" "),a("td",[t._v("2021-06-15T18:57:41Z")]),t._v(" "),a("td",[t._v("UC2lXqscjLeLc7F0H_4GKTug")]),t._v(" "),a("td",[t._v("アナと雪の女王２　ストーリーボードゲーム　王国のひみつ　ディズニー　エポック社　買う前の確認...")]),t._v(" "),a("td",[t._v("かうまえのかくにんようだよ.")]),t._v(" "),a("td",[t._v("{'default': {'url': 'https://i.ytimg.com/vi/e7...")])]),t._v(" "),a("tr",[a("th",[t._v("2")]),t._v(" "),a("td",[t._v("mCdnSLRLl38")]),t._v(" "),a("td",[t._v("LAP Youtube")]),t._v(" "),a("td",[t._v("2021-06-15T16:49:40Z")]),t._v(" "),a("td",[t._v("UCB-rg55VHCylqGcJAiDBt1Q")]),t._v(" "),a("td",[t._v("【居酒屋eラジオ】おもしろボードゲーム＆Knockout City")]),t._v(" "),a("td",[t._v("福岡女子 タレント3人がお酒を片手に #生配信 おしゃべりや #ゲーム やっちゃいます！ 女...")]),t._v(" "),a("td",[t._v("{'default': {'url': 'https://i.ytimg.com/vi/mC...")])]),t._v(" "),a("tr",[a("th",[t._v("3")]),t._v(" "),a("td",[t._v("cDWKV7l9NbI")]),t._v(" "),a("td",[t._v("きたこしちゃんねる")]),t._v(" "),a("td",[t._v("2021-06-15T14:54:52Z")]),t._v(" "),a("td",[t._v("UCQD1KbDFa25mnfUnF6ldzXw")]),t._v(" "),a("td",[t._v("【 #ボドこし 74】カートグラファー【バーチャルゲームカフェ】ボードゲームで遊ぼうよ！")]),t._v(" "),a("td",[t._v("1人から100人で遊べる？！紙ペンゲーム カートグラファーのご紹介&ソロプレイ配信です。 当...")]),t._v(" "),a("td",[t._v("{'default': {'url': 'https://i.ytimg.com/vi/cD...")])]),t._v(" "),a("tr",[a("th",[t._v("4")]),t._v(" "),a("td",[t._v("1Lx9rBOS150")]),t._v(" "),a("td",[t._v("sangenya")]),t._v(" "),a("td",[t._v("2021-06-15T12:17:26Z")]),t._v(" "),a("td",[t._v("UCUTG51hFXQavzdyAYmdN9XA")]),t._v(" "),a("td",[t._v("ボードゲーム制作 作業配信 五稜郭 0.10.2")]),t._v(" "),a("td",[t._v("マイクはありません。 https://twitter.com/toshi_kadota Mu...")]),t._v(" "),a("td",[t._v("{'default': {'url': 'https://i.ytimg.com/vi/1L...")])])])])]),t._v(" "),a("h2",{attrs:{id:"参考サイト"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考サイト"}},[t._v("#")]),t._v(" 参考サイト")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://qiita.com/ryoya41/items/dd1fd4c1427ece787eea",target:"_blank",rel:"noopener noreferrer"}},[t._v("【Python】YouTube Data API を使って、いろんな情報を取得してみた！"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://liginc.co.jp/497428#:~:text=%E3%81%BE%E3%81%A8%E3%82%81-,YouTube%20Data%20API%E3%81%A8%E3%81%AF,%E3%81%99%E3%82%8B%E3%81%93%E3%81%A8%E3%81%8C%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%99%E3%80%82",target:"_blank",rel:"noopener noreferrer"}},[t._v("YouTube Data API v3を使用して、YouTubeページと同じリストモジュールを作ってみた"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://qiita.com/g-k/items/7c98efe21257afac70e9",target:"_blank",rel:"noopener noreferrer"}},[t._v("Youtube Data APIを使ってPythonでYoutubeデータを取得する"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://developers.google.com/youtube/v3/docs/search/list?hl=ja",target:"_blank",rel:"noopener noreferrer"}},[t._v("Search: list | YouTube Data API | Google Developers"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"//af.moshimo.com/af/c/click?a_id=2604050&p_id=1555&pc_id=2816&pl_id=29835&guid=ON",rel:"nofollow",referrerpolicy:"no-referrer-when-downgrade"}},[a("img",{staticStyle:{border:"none"},attrs:{src:"//image.moshimo.com/af-img/0866/000000029835.jpg",width:"728",height:"90"}})]),a("img",{staticStyle:{border:"none"},attrs:{src:"//i.moshimo.com/af/i/impression?a_id=2604050&p_id=1555&pc_id=2816&pl_id=29835",width:"1",height:"1"}})]),t._v(" "),a("p",[a("a",{attrs:{href:"//af.moshimo.com/af/c/click?a_id=2641145&p_id=1770&pc_id=3386&pl_id=25847&guid=ON",rel:"nofollow",referrerpolicy:"no-referrer-when-downgrade"}},[a("img",{staticStyle:{border:"none"},attrs:{src:"//image.moshimo.com/af-img/1115/000000025847.png",width:"728",height:"90"}})]),a("img",{staticStyle:{border:"none"},attrs:{src:"//i.moshimo.com/af/i/impression?a_id=2641145&p_id=1770&pc_id=3386&pl_id=25847",width:"1",height:"1"}})]),t._v(" "),a("ClientOnly",[a("CallInArticleAdsense")],1)],1)}),[],!1,null,null,null);s.default=e.exports}}]);